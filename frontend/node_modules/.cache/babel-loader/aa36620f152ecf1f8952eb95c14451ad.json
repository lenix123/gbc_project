{"ast":null,"code":"export function phoneinput(e) {\n  let input = e.target,\n      inputNumbersValue = getInputNumbersValue(input),\n      formattedInputValue = \"\",\n      selectionStart = input.selectionStart;\n\n  if (!inputNumbersValue) {\n    return input.value = \"\";\n  }\n\n  if (input.value.length !== selectionStart) {\n    if (e.data && /\\D/g.test(e.data)) {\n      input.value = inputNumbersValue;\n    }\n\n    return;\n  }\n\n  if ([\"7\", \"8\", \"9\"].includes(inputNumbersValue[0])) {\n    // Russian phone number\n    if (inputNumbersValue === \"9\") {\n      inputNumbersValue = \"7\" + inputNumbersValue;\n    }\n\n    let firstSymbols = inputNumbersValue[0] === \"8\" ? \"8\" : \"+7\";\n    formattedInputValue = firstSymbols + \" \";\n    let numbersCount = inputNumbersValue.length;\n\n    if (numbersCount > 1) {\n      formattedInputValue += \"(\" + inputNumbersValue.substring(1, 4);\n    }\n\n    if (numbersCount >= 5) {\n      formattedInputValue += \") \" + inputNumbersValue.substring(4, 7);\n    }\n\n    if (numbersCount >= 8) {\n      formattedInputValue += \"-\" + inputNumbersValue.substring(7, 9);\n    }\n\n    if (numbersCount >= 10) {\n      formattedInputValue += \"-\" + inputNumbersValue.substring(9, 11);\n    }\n  } else {\n    // Not russian phone number\n    formattedInputValue = \"+\" + inputNumbersValue.substring(0, 16);\n  }\n\n  input.value = formattedInputValue;\n}\n\nfunction getInputNumbersValue(input) {\n  return input.value.replace(/\\D/g, \"\");\n}\n\nexport function phoneKeyDown(e) {\n  let input = e.target;\n\n  if (e.keyCode === 8 && getInputNumbersValue(input).length === 1) {\n    input.value = \"\";\n  }\n}\nexport function phonePaste(e) {\n  let pasted = e.clipboardData || window.clipboardData,\n      input = e.target,\n      inputNumberValue = getInputNumbersValue(input);\n\n  if (pasted) {\n    let pastedText = pasted.getData(\"Text\");\n\n    if (/\\D/g.test(pastedText)) {\n      input.value = inputNumberValue;\n    }\n  }\n}","map":{"version":3,"sources":["/home/lenix/PycharmProjects/GBC/frontend/src/components/Library/Forms/Authorization/Telephone/phoneinput.js"],"names":["phoneinput","e","input","target","inputNumbersValue","getInputNumbersValue","formattedInputValue","selectionStart","value","length","data","test","includes","firstSymbols","numbersCount","substring","replace","phoneKeyDown","keyCode","phonePaste","pasted","clipboardData","window","inputNumberValue","pastedText","getData"],"mappings":"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","sourcesContent":["export function phoneinput(e) {\n    let input = e.target,\n        inputNumbersValue = getInputNumbersValue(input),\n        formattedInputValue = \"\",\n        selectionStart = input.selectionStart;\n\n    if (!inputNumbersValue) {\n        return input.value = \"\";\n    }\n\n    if (input.value.length !== selectionStart) {\n        if (e.data && /\\D/g.test(e.data)) {\n            input.value = inputNumbersValue;\n        }\n        return;\n    }\n\n    if ([\"7\", \"8\", \"9\"].includes(inputNumbersValue[0])) {\n        // Russian phone number\n        if (inputNumbersValue === \"9\") {\n            inputNumbersValue = \"7\" + inputNumbersValue;\n        }\n        let firstSymbols = (inputNumbersValue[0] === \"8\") ? \"8\" : \"+7\";\n        formattedInputValue = firstSymbols + \" \";\n        let numbersCount = inputNumbersValue.length;\n        if (numbersCount > 1) {\n            formattedInputValue += \"(\" + inputNumbersValue.substring(1, 4);\n        }\n        if (numbersCount >= 5) {\n            formattedInputValue += \") \" + inputNumbersValue.substring(4, 7);\n        }\n        if (numbersCount >= 8) {\n            formattedInputValue += \"-\" + inputNumbersValue.substring(7, 9);\n        }\n        if (numbersCount >= 10) {\n            formattedInputValue += \"-\" + inputNumbersValue.substring(9, 11)\n        }\n    } else {\n        // Not russian phone number\n        formattedInputValue = \"+\" + inputNumbersValue.substring(0, 16);\n    }\n    input.value = formattedInputValue;\n}\n\nfunction getInputNumbersValue(input) {\n    return input.value.replace(/\\D/g, \"\");\n}\n\n\nexport function phoneKeyDown(e) {\n    let input = e.target;\n    if (e.keyCode === 8 && getInputNumbersValue(input).length === 1) {\n        input.value = \"\";\n    }\n}\n\nexport function phonePaste(e) {\n    let pasted = e.clipboardData || window.clipboardData,\n        input = e.target,\n        inputNumberValue = getInputNumbersValue(input);\n\n    if (pasted) {\n        let pastedText = pasted.getData(\"Text\");\n        if (/\\D/g.test(pastedText)) {\n            input.value = inputNumberValue;\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}