{"ast":null,"code":"var _jsxFileName = \"/home/lenix/PycharmProjects/GBC/frontend/src/components/AppMenu/FileBtn.js\";\nimport React, { Component } from 'react';\nimport { fileIcon } from './InnerTree';\nimport { connect } from \"react-redux\";\nimport { setComponentName } from \"../../store/currentComponent/actions\"; // FileBtn – компонент-кнопка, отображающая название файла на боковой панели\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass FileBtn extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isFocused: false\n    };\n\n    this.displayComponent = () => {\n      const {\n        setComponentName,\n        file,\n        isUserComponent,\n        dir\n      } = this.props;\n      const fileName = file.slice(0, -3);\n\n      if (isUserComponent) {\n        setComponentName(dir, isUserComponent, fileName);\n      } else {\n        setComponentName(fileName, isUserComponent, \"\");\n      } // присвоить компоненту фокус, если он отображается, и наоборот\n\n\n      this.setState({\n        isFocused: !this.isFocused()\n      });\n    };\n\n    this.eliminate = () => {\n      this.setState({\n        isFocused: !this.isFocused()\n      });\n    };\n\n    this.isFocused = () => {\n      return this.state.isFocused;\n    };\n  }\n\n  // метод, вызывающийся перед рендером компонента\n  // метод позволяет отследить изменение фокуса на компоненте\n  static getDerivedStateFromProps(props, state) {\n    const {\n      componentName,\n      file,\n      isUserFile,\n      currentUserComponent\n    } = props;\n    const fileName = file.slice(0, -3);\n    let isEqual;\n\n    if (isUserFile) {\n      isEqual = fileName === currentUserComponent;\n    } else {\n      if (currentUserComponent) {\n        isEqual = false;\n      } else {\n        isEqual = fileName === componentName;\n      }\n    } // если кнопка в фокусе,\n    // но ее название не совпадает с названием прожатой в данный момент кнопки,\n    // то фокус нужно снять, и наоборот\n\n\n    if (state.isFocused && !isEqual) {\n      return {\n        isFocused: false\n      };\n    } else if (!state.isFocused && isEqual) {\n      return {\n        isFocused: true\n      };\n    } // в ином случае оставить без изменений\n\n\n    return null;\n  }\n\n  render() {\n    const condition = this.isFocused() ? 'active' : 'disabled';\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"tree-element__file\",\n      onClick: this.displayComponent,\n      onMouseOver: this.eliminate,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `tree-element__highlighter tree-element__highlighter_${condition}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), fileIcon, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tree-element__wrapper\",\n        children: this.props.file\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  } // метод вызывает колбэк, отображающий компонент или прячущий его\n\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    componentName: state.currentComponent.componentName,\n    currentUserComponent: state.currentComponent.userComponentName\n  };\n};\n\nconst mapDispatchToProps = {\n  setComponentName\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(FileBtn);","map":{"version":3,"sources":["/home/lenix/PycharmProjects/GBC/frontend/src/components/AppMenu/FileBtn.js"],"names":["React","Component","fileIcon","connect","setComponentName","FileBtn","state","isFocused","displayComponent","file","isUserComponent","dir","props","fileName","slice","setState","eliminate","getDerivedStateFromProps","componentName","isUserFile","currentUserComponent","isEqual","render","condition","mapStateToProps","currentComponent","userComponentName","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,gBAAR,QAA+B,sCAA/B,C,CAEA;;;;AACA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAAA;AAAA;AAAA,SAC5BK,KAD4B,GACpB;AACJC,MAAAA,SAAS,EAAE;AADP,KADoB;;AAAA,SAoD5BC,gBApD4B,GAoDT,MAAM;AACrB,YAAM;AAAEJ,QAAAA,gBAAF;AAAoBK,QAAAA,IAApB;AAA0BC,QAAAA,eAA1B;AAA2CC,QAAAA;AAA3C,UAAmD,KAAKC,KAA9D;AACA,YAAMC,QAAQ,GAAGJ,IAAI,CAACK,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAjB;;AAEA,UAAIJ,eAAJ,EAAqB;AACjBN,QAAAA,gBAAgB,CAACO,GAAD,EAAMD,eAAN,EAAuBG,QAAvB,CAAhB;AACH,OAFD,MAEO;AACHT,QAAAA,gBAAgB,CAACS,QAAD,EAAWH,eAAX,EAA4B,EAA5B,CAAhB;AACH,OARoB,CAUrB;;;AACA,WAAKK,QAAL,CAAc;AACVR,QAAAA,SAAS,EAAE,CAAC,KAAKA,SAAL;AADF,OAAd;AAGH,KAlE2B;;AAAA,SAqE5BS,SArE4B,GAqEhB,MAAM;AACd,WAAKD,QAAL,CAAc;AACVR,QAAAA,SAAS,EAAE,CAAC,KAAKA,SAAL;AADF,OAAd;AAGH,KAzE2B;;AAAA,SA2E5BA,SA3E4B,GA2EhB,MAAM;AACd,aAAO,KAAKD,KAAL,CAAWC,SAAlB;AACH,KA7E2B;AAAA;;AAK5B;AACA;AAC+B,SAAxBU,wBAAwB,CAACL,KAAD,EAAQN,KAAR,EAAe;AAC1C,UAAM;AAAEY,MAAAA,aAAF;AAAiBT,MAAAA,IAAjB;AAAuBU,MAAAA,UAAvB;AAAmCC,MAAAA;AAAnC,QAA4DR,KAAlE;AACA,UAAMC,QAAQ,GAAGJ,IAAI,CAACK,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAjB;AACA,QAAIO,OAAJ;;AAEA,QAAIF,UAAJ,EAAgB;AACZE,MAAAA,OAAO,GAAGR,QAAQ,KAAKO,oBAAvB;AACH,KAFD,MAEO;AACH,UAAIA,oBAAJ,EAA0B;AACtBC,QAAAA,OAAO,GAAG,KAAV;AACH,OAFD,MAEO;AACHA,QAAAA,OAAO,GAAGR,QAAQ,KAAKK,aAAvB;AACH;AACJ,KAbyC,CAe1C;AACA;AACA;;;AACA,QAAIZ,KAAK,CAACC,SAAN,IAAmB,CAACc,OAAxB,EAAiC;AAC7B,aAAO;AAAEd,QAAAA,SAAS,EAAE;AAAb,OAAP;AACH,KAFD,MAEO,IAAI,CAACD,KAAK,CAACC,SAAP,IAAoBc,OAAxB,EAAiC;AACpC,aAAO;AAAEd,QAAAA,SAAS,EAAE;AAAb,OAAP;AACH,KAtByC,CAwB1C;;;AACA,WAAO,IAAP;AACH;;AAEDe,EAAAA,MAAM,GAAG;AACL,UAAMC,SAAS,GAAG,KAAKhB,SAAL,KAAmB,QAAnB,GAA8B,UAAhD;AAEA,wBACI;AAAQ,MAAA,SAAS,EAAC,oBAAlB;AACQ,MAAA,OAAO,EAAG,KAAKC,gBADvB;AAEQ,MAAA,WAAW,EAAG,KAAKQ,SAF3B;AAAA,8BAGI;AAAK,QAAA,SAAS,EAAG,uDAAsDO,SAAU;AAAjF;AAAA;AAAA;AAAA;AAAA,cAHJ,EAISrB,QAJT,eAKI;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,kBACK,KAAKU,KAAL,CAAWH;AADhB;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH,GAjD2B,CAmD5B;;;AAnD4B;;AAgFhC,MAAMe,eAAe,GAAIlB,KAAD,IAAW;AAC/B,SAAO;AACHY,IAAAA,aAAa,EAAEZ,KAAK,CAACmB,gBAAN,CAAuBP,aADnC;AAEHE,IAAAA,oBAAoB,EAAEd,KAAK,CAACmB,gBAAN,CAAuBC;AAF1C,GAAP;AAIH,CALD;;AAOA,MAAMC,kBAAkB,GAAG;AACvBvB,EAAAA;AADuB,CAA3B;AAIA,eAAeD,OAAO,CAACqB,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CtB,OAA7C,CAAf","sourcesContent":["import React, {Component} from 'react'\nimport { fileIcon } from './InnerTree'\nimport {connect} from \"react-redux\";\nimport {setComponentName} from \"../../store/currentComponent/actions\";\n\n// FileBtn – компонент-кнопка, отображающая название файла на боковой панели\nclass FileBtn extends Component {\n    state = {\n        isFocused: false\n    }\n\n    // метод, вызывающийся перед рендером компонента\n    // метод позволяет отследить изменение фокуса на компоненте\n    static getDerivedStateFromProps(props, state) {\n        const { componentName, file, isUserFile, currentUserComponent } = props;\n        const fileName = file.slice(0, -3);\n        let isEqual;\n\n        if (isUserFile) {\n            isEqual = fileName === currentUserComponent;\n        } else {\n            if (currentUserComponent) {\n                isEqual = false;\n            } else {\n                isEqual = fileName === componentName\n            }\n        }\n\n        // если кнопка в фокусе,\n        // но ее название не совпадает с названием прожатой в данный момент кнопки,\n        // то фокус нужно снять, и наоборот\n        if (state.isFocused && !isEqual) {\n            return { isFocused: false }\n        } else if (!state.isFocused && isEqual) {\n            return { isFocused: true }\n        }\n\n        // в ином случае оставить без изменений\n        return null;\n    }\n\n    render() {\n        const condition = this.isFocused() ? 'active' : 'disabled';\n\n        return (\n            <button className=\"tree-element__file\"\n                    onClick={ this.displayComponent }\n                    onMouseOver={ this.eliminate }>\n                <div className={`tree-element__highlighter tree-element__highlighter_${condition}`}/>\n                    {fileIcon}\n                <div className=\"tree-element__wrapper\">\n                    {this.props.file}\n                </div>\n            </button>\n        )\n    }\n\n    // метод вызывает колбэк, отображающий компонент или прячущий его\n    displayComponent = () => {\n        const { setComponentName, file, isUserComponent, dir } = this.props;\n        const fileName = file.slice(0, -3);\n\n        if (isUserComponent) {\n            setComponentName(dir, isUserComponent, fileName)\n        } else {\n            setComponentName(fileName, isUserComponent, \"\");\n        }\n\n        // присвоить компоненту фокус, если он отображается, и наоборот\n        this.setState({\n            isFocused: !this.isFocused()\n        })\n    }\n\n    // подсвечивает компонент при наведении мыши\n    eliminate = () => {\n        this.setState({\n            isFocused: !this.isFocused()\n        })\n    }\n\n    isFocused = () => {\n        return this.state.isFocused;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        componentName: state.currentComponent.componentName,\n        currentUserComponent: state.currentComponent.userComponentName,\n    }\n}\n\nconst mapDispatchToProps = {\n    setComponentName\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FileBtn);"]},"metadata":{},"sourceType":"module"}